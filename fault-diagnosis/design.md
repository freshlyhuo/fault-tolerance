故障诊断模块
它接收健康监测模块的监测数据，遵循“现象判断→阈值触发”的原则，依据故障树分析（FTA）模型进行逻辑推理，判断是否发生顶层故障事件以及对应的故障码和故障原因。若故障成立，则将对应的诊断信息交由故障修复模块处理。
工作流程示例
一、业务层
模块接收到“EVT-001”“EVT-002”两个基础告警事件后，在内存中将这两个“基本事件”的状态均标记为“真（TRUE）”，并触发故障树逻辑链路的求值流程。
顶层事件为 “CJB-RG-ZD-3：蓄电池、母线电压遥测异常”，其通过 “或门” 关联两个中间事件 ——“蓄电池异常” 和 “AD 模块异常”（任一中间事件成立，顶层事件即成立）。
1.验证 “AD 模块异常” 中间事件
“AD 模块异常” 中间事件的底事件为：
采集 TMEZD01011（cjb-CPU板电压），生成EVT-003：TMEZD01011 不在 [3.1,3.5] V 区间。
若 EVT-003 为 “真”（电压超出正常区间），则 “AD 模块异常” 中间事件成立；
若 EVT-003 为 “假”（电压在正常区间），则 “AD 模块异常” 中间事件不成立，直接排除该故障原因。
2.验证 “蓄电池异常” 中间事件
若 “AD 模块异常” 被排除（EVT-003 为 “假”），则触发 “蓄电池异常” 中
间事件验证：
因 EVT-001（蓄电池电压异常）和 EVT-002（母线电压异常）均为 “真”，且已排除 AD 模块影响，故 “蓄电池异常” 中间事件成立。
3.触发顶层事件
由于 “AD 模块异常” 和 “蓄电池异常” 为 “或门” 关系，任一中间事件成立时，顶层事件 “CJB-RG-ZD-3：蓄电池、母线电压遥测异常” 即被触发为 “真”。
第三步：故障修复
1.执行修复动作
根据故障树配置，故障诊断模块向故障修复模块发生故障码

二、微服务层
故障诊断模块接收到多个告警事件后，在故障树中进行匹配和逻辑演算。在本场景中，故障树匹配到一条“与门”规则：当“P99延迟 > 5000ms” 且 “错误率 > 15%”同时为真时，顶层故障“服务性能严重下降”成立。

该模块是框架的“诊断”核心，负责将来自健康监测模块的原始告警事件，通过严谨的逻辑推理，转化为明确的故障诊断结论和修复动作指令。
（1）故障树设计
故障树是系统的故障诊断策略中心，以可热加载的配置文件（如 fault_tree.json）形式存在，统一管理业务层和微服务层的故障。其核心设计思想是将复杂的故障场景分解为由逻辑门（与、或、非）连接的基础事件。
顶层事件: 代表系统级的、需要处理的最终故障，如“姿态确定功能失效”。每个顶层事件都关联一个故障码。
中间事件: 代表由底层事件组合而成的中间状态，用于构建复杂的逻辑层次。
基本事件: 代表故障的最小单元，直接对应于健康监测模块上报的告警事件，例如“星敏A温度 > 60°C”、“ScienceDataSvc P99延迟 > 5000ms”等。
逻辑门: 支持“与”、“或”等，用于定义事件之间的逻辑关系。
（2）诊断逻辑
	决策逻辑遵循一个严格的、基于事件驱动的诊断流程。该流程利用预先用自顶向方法构建好的故障树（FTA）模型，进行自底向上的实时诊断求值： 
决策逻辑遵循一个严格的、基于事件驱动的FTA（故障树分析）推理流程：
①　事件接收与状态更新: 模块持续监听来自“统一告警生成器”的告警事件。每当接收到一个新的告警，它会将其视为一个“基本事件”的触发，并在内存中将该基本事件的状态标记为“真”（TRUE）。
②　诊断求值（自底向上）: 任何基本事件状态的改变，都会触发一次沿着故障树逻辑链路的自底向上求值过程。评估器从状态变为“真”的基本事件出发，逐级向上计算其中间事件和顶层事件的逻辑状态。
若遇到“或门”，只要其任一输入事件为“真”，该“或门”代表的中间事件状态即被置为“真”。
若遇到“与门”，必须其所有输入事件均为“真”，该“与门”代表的中间事件状态才被置为“真”。
③　顶层事件触发: 求值过程持续进行，直到所有路径都评估完毕或一个“顶层事件”的状态被置为“真”。
④　诊断生成: 一旦某个顶层事件被触发，模块就确认一个系统级故障已经发生。它会立即提取与该顶层事件关联的故障码以及故障原因交由故障修复模块进行故障修复。